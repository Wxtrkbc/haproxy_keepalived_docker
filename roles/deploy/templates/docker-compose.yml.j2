version: '3.3'

services:
  app1:
    image: "{{ app_image_name }}"
    container_name: "{{ app_container_prefix_name }}_1"
    ports:
      - "8000:80"
    networks:
      app_net:
        ipv4_address: 172.16.238.10

  app2:
    image: "{{ app_image_name }}"
    container_name: "{{ app_container_prefix_name }}_2"
    ports:
      - "8001:80"
    networks:
      app_net:
        ipv4_address: 172.16.238.11

  app3:
    image: "{{ app_image_name }}"
    container_name: "{{ app_container_prefix_name }}_3"
    ports:
      - "8002:80"
    networks:
      app_net:
        ipv4_address: 172.16.238.12



networks:
  app_net:
    driver: bridge
    ipam:
      driver: default
      config:
        - subnet: 172.16.238.0/24
